<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head lang="en">

    <title>Donnie The Turtle</title>

    <!-- bootstrap Core CSS and jQuery -->
    <script type="text/javascript" src="/webjars/jquery/3.0.0-alpha1/jquery.js"></script>
    <link th:href="@{/css/bootstrap.css}" rel="stylesheet" media="screen" />
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" media="screen" />
    <link th:href="@{/css/unique.css}" rel="stylesheet" media="screen" />

    <!-- custom CSS -->
    <link th:href="@{/css/freelancer.css}" rel="stylesheet" media="screen" />
    <link th:href="@{/webjars/startbootstrap-freelancer/1.0.3/font-awesome/css/font-awesome.css}" rel="stylesheet" media="screen" />
    <link th:href="@{/webjars/startbootstrap-freelancer/1.0.3/font-awesome/css/font-awesome.min.css}" rel="stylesheet" media="screen" />

    <!-- custom Fonts -->
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- jQuery Calls on load -->
    <script type="text/javascript">
        $(document).ready(function(){
            <!-- set relay toggle buttons on load -->
            $("#mainLight").click(function(){
                $.get("/relayToggle", {name: "mainLight"}, function(data) {
                    if (data == "Timeout") {
                        alert("Video feed is delayed, your request occurred in real time already. Be patient!")
                    } else if (data == "NightTime") alert("Let the turtle sleep");
                    else $('#mainLight').val(data);
                });
            });
            $("#uvbLight").click(function() {
                $.get("/relayToggle", {name: "uvbLight"}, function (data) {
                    if (data == "Timeout") {
                        alert("Video feed is delayed, your request occurred in real time already. Be patient!")
                    } else if (data == "NightTime") alert("Let the turtle sleep");
                    else $('#uvbLight').val(data)
                });
            });
            $("#heatLight").click(function(){
                $.get("/relayToggle", {name: "heatLight"}, function(data){
                    if(data == "Timeout"){
                        alert("Video feed is delayed, your request occurred in real time already. Be patient!")
                    } else if (data == "NightTime") alert("Let the turtle sleep");
                    else $('#heatLight').val(data)
                });
            });
            $("#bubbles").click(function(){
                $.get("/relayToggle", {name: "bubbles"}, function(data){
                    if(data == "Timeout"){
                        alert("Video feed is delayed, your request occurred in real time already. Be patient!")
                    } else if (data == "NightTime") alert("Let the turtle sleep");
                    else $('#bubbles').val(data)
                });
            });
            $("#feeder").click(function(){
                $.get("/feederToggle", function(data){
                    if(data == "NightTime"){
                        $('#feeder').val("Disabled")
                        alert("Donnie should be asleep, no late night snacks allowed.")
                    } else if(data == "Feeding") {
                        $('#feeder').val(data)
                    } else alert(data);
                });
            });

            <!-- set relay toggle status on load **update every 30 secs** -->
            $.get("/relayStatus", {name: "mainLight"}, function(data){$('#mainLight').val(data)});
            $.get("/relayStatus", {name: "uvbLight"}, function(data){$('#uvbLight').val(data)});
            $.get("/relayStatus", {name: "heatLight"}, function(data){$('#heatLight').val(data)});
            $.get("/relayStatus", {name: "bubbles"}, function(data){$('#bubbles').val(data)});
            $.get("/feederStatus", function(data){$('#feeder').val(data)});
            setInterval(function() {
                $.get("/relayStatus", {name: "mainLight"}, function(data){$('#mainLight').val(data)});
                $.get("/relayStatus", {name: "uvbLight"}, function(data){$('#uvbLight').val(data)});
                $.get("/relayStatus", {name: "heatLight"}, function(data){$('#heatLight').val(data)});
                $.get("/relayStatus", {name: "bubbles"}, function(data){$('#bubbles').val(data)});
                $.get("/feederStatus", function(data){$('#feeder').val(data)});
            }, 30000);

            <!-- get temperatures on load **update every minute** -->
            $.get("/getTemp", {name: "water"}, function(data){$('#waterTemp').html("<p class='temperature'>" + data + "</p>")});
            $.get("/getTemp", {name: "air"}, function(data){$('#airTemp').html("<p class='temperature'>" + data + "</p>")});
            $.get("/getTemp", {name: "basking"}, function(data){$('#baskingTemp').html("<p class='temperature'>" + data + "</p>")});
            setInterval(function() {
                $.get("/getTemp", {name: "water"}, function(data){$('#waterTemp').html("<p class='temperature'>" + data + "</p>")});
                $.get("/getTemp", {name: "air"}, function(data){$('#airTemp').html("<p class='temperature'>" + data + "</p>")});
                $.get("/getTemp", {name: "basking"}, function(data){$('#baskingTemp').html("<p class='temperature'>" + data + "</p>")});
            }, 60000);

            <!-- get routine on load -->
            $.get("/getRoutine", {name: "sunrise"}, function(data){$('#sunrise').html("<p class='routine'>" + data + "</p>")});
            $.get("/getRoutine", {name: "breakfast"}, function(data){$('#breakfast').html("<p class='routine'>" + data + "</p>")});
            $.get("/getRoutine", {name: "dinner"}, function(data){$('#dinner').html("<p class='routine'>" + data + "</p>")});
            $.get("/getRoutine", {name: "sunset"}, function(data){$('#sunset').html("<p class='routine'>" + data + "</p>")});

            <!-- determine css of LIVE FEED background -->
            $.get("/getRoutine", {name: "nightTimeBool"}, function(data){
                if(data == "true"){
                    $('#livefeed').css('background-color','Black');
                }
            });
        });
    </script>
</head>

<body id="page-top" class="index">

    <!-- navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#page-top">Donnie The Turtle</a>
            </div>

            <!-- collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="#livefeed">Live Feed</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#temperatures">Temperatures</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#routine">Routine</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#about">About</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#video">Video</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- header -->
    <header>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <img th:src="@{/images/turtle.png}" class="img-responsive" src="../static/images/turtle.png"/>
                    <div class="intro-text">
                        <span class="name">Donnie The Turtle</span>
                        <hr class="star-light">
                        <span class="skills">Custom - Red Ear Slider - Habitat</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- live feed grid section -->
    <section id="livefeed">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Live Feed</h2>
                    <hr class="star-primary">
                    <!-- twitter feed -->
                    <a href="https://twitter.com/donnietheturtle" class="twitter-follow-button" data-show-count="true" data-size="large" data-dnt="true">Follow @donnietheturtle</a>
                    <br>
                    <section id="latest-tweets">Loading...</section>
                    <!-- live camera -->
                    <iframe src="http://ipcamlive.com/player/player.php?alias=turtletank&autoplay=1&mute=0" width="800px" height="600px"frameborder="0"></iframe>
                    <br>
                        <div class="container">
                            <div class="mainLight">
                                <p>Main Light</p>
                                <input type="button" id="mainLight" class="btn btn-primary btn-lg"/>
                            </div>
                            <div class="uvbLight">
                                <p>UVB Light</p>
                                <input type="button" id="uvbLight" class="btn btn-primary btn-lg"/>
                            </div>
                            <div class="heatLight">
                                <p>Heat Light</p>
                                <input type="button" id="heatLight" class="btn btn-primary btn-lg"/>
                            </div>
                            <div class="bubbles">
                                <p>Bubbles</p>
                                <input type="button" id="bubbles" class="btn btn-primary btn-lg"/>
                            </div>
                            <div class="feeder">
                                <p>Feeder</p>
                                <input type="button" id="feeder" class="btn btn-primary btn-lg"/>
                            </div>
                        </div>
                    <br>
                </div>
            </div>
        </div>
    </section>

    <!-- temperatures section -->
    <section class="success" id="temperatures">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Temperatures</h2>
                    <hr class="star-light">
                </div>
                <div class="col-lg-12 text-center">
                    <div class="container">
                        <div class="water">
                            <p class="activity">WATER</p>
                            <div id = "waterTemp">
                            </div>
                        </div>
                        <div class="air">
                            <p class="activity">AIR</p>
                            <div id = "airTemp">
                            </div>
                        </div>
                        <div class="basking">
                            <p class="activity">BASKING</p>
                            <div id = "baskingTemp">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- routine section -->
    <section id="routine">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Routine</h2>
                    <hr class="star-primary">
                </div>
                <div class="col-lg-12 text-center">
                    <div class="container">
                        <div class="sunrise">
                            <p class="activity">SUNRISE</p>
                            <div id = "sunrise">
                            </div>
                        </div>
                        <div class="breakfast">
                            <p class="activity">BREAKFAST</p>
                            <div id = "breakfast">
                            </div>
                        </div>
                        <div class="dinner">
                            <p class="activity">DINNER</p>
                            <div id = "dinner">
                            </div>
                        </div>
                        <div class="sunset">
                            <p class="activity">SUNSET</p>
                            <div id = "sunset">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- about section -->
    <section class="success" id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>About</h2>
                    <hr class="star-light">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4 col-lg-offset-2">
                    <p>This web-page and backend application are both running on a single Raspberry Pi. The web-page was built
                    using spring-boot, and the backend was built using spring & Java.</p>
                </div>
                <div class="col-lg-4">
                    <p>A huge thanks to the <a href src="http://pi4j.com">Pi4J</a> library for making Java GPIO on the Raspberry Pi a possibility
                    as well as <a href src="https://spring.io">spring</a> for your ease of use, and integration. You have made one happy turtle.</p>
                </div>
            </div>
            <div class="details">
                <br><br><br>
                <p>Donnie is housed in a 55 gallon aquarium with an additional self-made top to allow for his added basking area. He was adopted
                in Aug. of 2015, and will hopefully live for a long time with the setup he has. The aquarium has a self-made filter that cycles
                through at 800 gallons per hour.</p>
                <p>The internal temps are displayed above in real time. The back-end code on the Raspberry Pi
                will not allow for his basking area to drop below 91 degrees, or above 93, during the day time. The same can be said for the water which sits
                at a nice 78 degrees. Sunrise and Sunset are updated daily and are based off that of my home town. These are the times when the aquarium
                reacts accordingly, turning on or off the lights and ability to interact with Donnie.</p>
                <p>

                </p>

            </div>
        </div>
    </section>

    <!-- video section -->
    <section id="video">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Video</h2>
                    <hr class="star-primary">
                </div>
                <div class="col-lg-12 text-center">
                    <p>Youtube Video showing the outside of the turtle tank to come.<br>For now, just watch this video I made of my Dad.</p>
                    <iframe width="600" height="400" src="https://www.youtube.com/embed/IA6XK8nRQn0" frameborder="0" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </section>

    <!-- footer -->
    <footer class="text-center">
        <div class="footer-above">
            <div class="container">
                <div class="row">
                    <div class="footer-col col-md-4">
                        <h3>Chad D'Haenens</h3>
                        <p>Donnie's Owner</p>
                        <img th:src="@{/images/chad.png}" class="img-responsive" src="../static/images/chad.png"/>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>Chad Around the Web</h3>
                        <ul class="list-inline">
                            <li>
                                <a href="https://plus.google.com/u/0/114632663039234962936" class="btn-social btn-outline"><i class="fa fa-fw fa-google-plus"></i></a>
                            </li>
                            <li>
                                <a href="https://twitter.com/chaderick9" class="btn-social btn-outline"><i class="fa fa-fw fa-twitter"></i></a>
                            </li>
                            <li>
                                <a href="https://github.com/chaderick9" class="btn-social btn-outline"><i class="fa fa-fw fa-github"></i></a>
                            </li>
                            <li>
                                <a href="https://www.linkedin.com/in/chad-d-haenens-124407b6" class="btn-social btn-outline"><i class="fa fa-fw fa-linkedin"></i></a>
                            </li>
                        </ul>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>About Chad</h3>
                        <p>I have a love for turtles,<br>coding, golf,<br>and on occasion,<br>smooth jazz.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-below">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        Copyright &copy; Donnie The Turtle 2016
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- scroll to top Button (only visible on small and extra-small screen sizes) -->
    <div class="scroll-top page-scroll visible-xs visible-sm">
        <a class="btn btn-primary" href="#page-top">
            <i class="fa fa-chevron-up"></i>
        </a>
    </div>

    <!-- plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script th:src="@{/js/classie.js}" src="../static/js/classie.js"></script>
    <script th:src="@{/js/cbpAnimatedHeader.js}" src="../static/js/cbpAnimatedHeader.js"></script>

    <!-- custom theme JavaScript -->
    <script th:src="@{/js/freelancer.js}" src="../static/js/freelancer.js"></script>

    <!-- twitter feed script -->
    <script th:src="@{/js/twitterFetcher_min.js}" src="../static/js/twitterFetcher_min.js"></script>
    <script>
        function twitterInit() {
            twitterFetcher.fetch({
                id: '690729462258741249',
                domId: 'latest-tweets'
            })
        }

        twitterInit();

        setInterval(twitterInit,60000);

    </script>

    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
        if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';
            fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

    <!-- google analytics tacking -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-72776846-1', 'auto');
        ga('send', 'pageview');
    </script>

</body>

</html>